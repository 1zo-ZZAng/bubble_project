<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BUBBLE BUMUL</title>

    <!--1. BootStrap용 CSS CDM 추가-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">

</head>
<body>

    <h3>기기등록</h3>

    <a th:href="@{/washing/home.bubble}"><button>홈페이지</button></a>

    <form th:action="@{/machine/insert.bubble(wid=${wid})}" method="post" id="form" > <!--wid 값은 user.getusername() 값임-->

        <table class="container" width=" 400px">

            <tr>
                <td><label for="wid">아이디</label></td>
                <td><input type="text" name="washing.id"  th:value="${wid}" class="form-control" readonly></td> <!--외래키의 name값 설정 방법, wid는 주소창에 있는 값과 동일함-->
            </tr>

            <!--세탁기 종류-->
            <tr>
                <td><label for="type">세탁기</label></td>
                <td>
                    <select name="type" class="form-select" id="type">
                        <option value="">세탁기 선택</option>
                        <option value="세탁기">세탁기</option>
                        <option value="건조기">건조기</option>
                        <option value="일체형세탁기">일체형 세탁기</option>
                    </select>
                </td>
            </tr>

            <!--세탁기 번호-->
            <tr>
                <td><label for="typeno">기기 번호</label></td>
                <td>
                    <select name="typeno" class="form-select" id="typeno">
                        <option value="">기기 번호선택</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                    </select>
                </td>
            </tr>

            <!--기기 시간-->
            <tr>
                <td><label for="time">시간</label></td>
                <td>
                    <select name="time" class="form-select" id="time">
                        <option value="">기기선택</option>
                        <option value="40">40분</option>
                        <option value="80">80분</option>
                    </select>
                </td>
            </tr>

            <!--가격-->
            <tr>
                <td><label for="price">가격</label></td>
                <td>
                    <select name="price" class="form-select" id="price">
                        <option value="">가격 선택</option>
                        <option value="5000">5000원</option>
                        <option value="10000">10000원</option>
                    </select>
                </td>
            </tr>

            <!--버튼-->
            <tr>
                <td><input type="button" value="등록" class="form-control" onclick="insertMachine()"  /></td>
            </tr>

        </table>
    

    </form>



    <script th:inline="javascript" type="text/javascript">

        function insertMachine(){
            const type = document.getElementById('type'); // 세탁기 종류
            const typeno = document.getElementById('typeno'); //기기번호
            const time = document.getElementById('time'); // 세탁기 시간
            const price = document.getElementById('price'); // 가격

            if(type.value.length <= 0){
                alert('세탁기를 선택해주세요');
                return false;
            }

            if(typeno.value.length <= 0){
                alert('기기번호를 선택해주세요');
                return false;
            }

            if(time.value.length <= 0){
                alert('시간을 선택해주세요');
                return false;
            }

            if(price.value.length <= 0){
                alert('가격을 선택해주세요');
                return false;
            }

            document.getElementById('form').submit(); //유효성 검사 통과하면 제출됨


        }
    </script>
    
</body>
</html>